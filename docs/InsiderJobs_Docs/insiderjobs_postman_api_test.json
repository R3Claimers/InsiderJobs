{
	"info": {
		"_postman_id": "insiderjobs-api",
		"name": "InsiderJobs",
		"description": "Postman collection for InsiderJobs with pre-filled dummy data for testing.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "General",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Clerk Webhook (Create User)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "svix-id",
								"value": "msg_2bNq5X...",
								"type": "text"
							},
							{
								"key": "svix-timestamp",
								"value": "1715620000",
								"type": "text"
							},
							{
								"key": "svix-signature",
								"value": "v1,abcdef...",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": \"user.created\",\n    \"data\": {\n        \"id\": \"user_2bNq5X...\",\n        \"email_addresses\": [\n            {\n                \"email_address\": \"rahul.sharma@example.in\"\n            }\n        ],\n        \"first_name\": \"Rahul\",\n        \"last_name\": \"Sharma\",\n        \"image_url\": \"https://randomuser.me/api/portraits/men/32.jpg\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/webhooks",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"webhooks"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Company",
			"item": [
				{
					"name": "Register Company",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.success && jsonData.token) {",
									"    pm.collectionVariables.set(\"company_token\", jsonData.token);",
									"    console.log(\"Company Token Set: \" + jsonData.token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "name",
									"value": "Innovate India Solutions",
									"type": "text"
								},
								{
									"key": "email",
									"value": "hr@innovateindia.in",
									"type": "text"
								},
								{
									"key": "password",
									"value": "India@123",
									"type": "text"
								},
								{
									"key": "image",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/company/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"company",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login Company",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.success && jsonData.token) {",
									"    pm.collectionVariables.set(\"company_token\", jsonData.token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"hr@innovateindia.in\",\n    \"password\": \"India@123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/company/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"company",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Company Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "token",
								"value": "{{company_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/company/company",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"company",
								"company"
							]
						}
					},
					"response": []
				},
				{
					"name": "Post New Job",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.success && jsonData.newJob) {",
									"    pm.collectionVariables.set(\"job_id\", jsonData.newJob._id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "token",
								"value": "{{company_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Senior MERN Stack Developer\",\n    \"description\": \"<p>We are looking for an experienced developer to join our team in Bangalore. Must know React and Node.js.</p>\",\n    \"location\": \"Bangalore, Karnataka\",\n    \"category\": \"Programming\",\n    \"level\": \"Senior level\",\n    \"salary\": 2400000\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/company/post-job",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"company",
								"post-job"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Company Jobs",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "token",
								"value": "{{company_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/company/list-jobs",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"company",
								"list-jobs"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Applicants",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "token",
								"value": "{{company_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/company/applicants",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"company",
								"applicants"
							]
						}
					},
					"response": []
				},
				{
					"name": "Change Application Status",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "token",
								"value": "{{company_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"Accepted\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/company/application-status/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"company",
								"application-status",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{application_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Toggle Job Visibility",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "token",
								"value": "{{company_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/company/job-visibility/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"company",
								"job-visibility",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{job_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Job",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "token",
								"value": "{{company_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/company/job/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"company",
								"job",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{job_id}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Public / Jobs",
			"item": [
				{
					"name": "Get All Jobs",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/jobs",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"jobs"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Job By ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/jobs/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"jobs",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{job_id}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "User (Candidate)",
			"item": [
				{
					"name": "Get User Profile",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user_clerk_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/user",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"user"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload Resume",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user_clerk_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "resume",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/users/resume",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"resume"
							]
						}
					},
					"response": []
				},
				{
					"name": "Apply for Job",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user_clerk_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"jobId\": \"{{job_id}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/users/apply",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"apply"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Applied Jobs",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user_clerk_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/applications",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"applications"
							]
						}
					},
					"response": []
				},
				{
					"name": "Search Locations",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/locations?query=Mum",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"locations"
							],
							"query": [
								{
									"key": "query",
									"value": "Mum"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "https://job-portal-mauve-gamma.vercel.app/",
			"type": "string"
		},
		{
			"key": "company_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_clerk_token",
			"value": "PASTE_YOUR_CLERK_JWT_HERE",
			"type": "string"
		},
		{
			"key": "job_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "application_id",
			"value": "",
			"type": "string"
		}
	]
}